<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Typeof</title>
</head>

<body>
    <h2>Javascript Typeof</h2>
    <p id="demo"></p>

    <script>
        /* Basic usage */

        // Numbers
        console.log(typeof 37 === "number");
        console.log(typeof 3.14 === "number");
        console.log(typeof 42 === "number");
        console.log(typeof Math.LN2 === "number");
        console.log(typeof Infinity === "number");
        console.log(typeof NaN === "number");
        console.log(typeof Number("1") === "number");
        console.log(typeof Number("thanh") === "number");
        console.log(typeof 42n === "bigint");

        // Strings
        console.log(typeof "" === "string");
        console.log(typeof "thanh" === "string");
        console.log(typeof `template literal` === "string");
        console.log(typeof "1" === "string");
        console.log(typeof typeof 1 === "string");
        console.log(typeof String(1) === "string");

        // Booleans
        console.log(typeof true === "boolean");
        console.log(typeof false === "boolean");
        console.log(typeof Boolean(1) === "boolean");
        console.log(typeof !!1 === "boolean");

        // Symbols
        console.log(typeof Symbol() === "symbol");
        console.log(typeof Symbol("thanh") === "symbol");
        console.log(typeof Symbol.iterator === "symbol");

        // Undefined
        console.log(typeof undefined === "undefined");
        console.log(typeof declaredButUndefinedVariable === "undefined");
        console.log(typeof undeclaredVariable === "undefined");

        // Objects
        console.log(typeof { name: "thanh" } === "object");
        console.log(typeof [1, 2, 3] === "object");
        console.log(typeof new Date() === "object");
        console.log(typeof /regex/ === "object");
        console.log(typeof new Boolean(true) === "object");
        console.log(typeof new Number(1) === "object");
        console.log(typeof new String("thanh") === "object");
        console.log(typeof null === "object");

        // Functions
        console.log(typeof function () { } === "function");
        console.log(typeof class Thanh { } === "function");
        console.log(typeof function () { } === "function");
        console.log(typeof Math.random === "function");

        /* Using new operator */
        const str = new String("String");
        const num = new Number(100);
        console.log(typeof str);
        console.log(typeof num);

        const func = new Function();
        console.log(typeof func);

        /* Need for parentheses in syntax */
        const someData = 90;

        console.log(typeof someData + "Wisen");
        console.log(typeof (someData + "Wisen"));

        /* Custom method that gets a more specific type */
        function type(value) {
            if (value === null) {
                return null;
            }

            const baseType = typeof value;

            // Primitive types
            if (!["object", "function"].includes(baseType)) {
                return baseType;
            }

            // Symbol.toStringTag often specifies the "display name" of the
            // object's class. It's used in Object.prototype.toString().
            const tag = value[Symbol.toStringTag];
            if (typeof tag === "string") {
                return tag;
            }

            // If it's a function whose source code starts with the "class" keyword
            if (baseType === "function" && Function.prototype.toString.call(value).startsWith("class")) {
                return "class";
            }

            // The name of the constructor; for example `Array`, `GeneratorFunction`
            // `Number`, `String`, `Boolean`, or `MyCustomClass`
            const className = value.constructor.name;
            if (typeof className === "string" && className !== "") {
                return className;
            }

            // At this point there's no robust way to get the type of value,
            // so we use the base implementation.
            return baseType;
        }

        {
            const myArr = ["thanh", "thuy"];
            const myFunc = type;
            const myStr = "Moi Anh Ve Que Em";
            const myObj = { thanh: 33, thuy: 30 };
            const myClass = class Thanh { };

            console.log(type(myArr));
            console.log(type(myFunc));
            console.log(type(myStr));
            console.log(type(myObj));
            console.log(type(myClass));
        }
    </script>
</body>

</html>